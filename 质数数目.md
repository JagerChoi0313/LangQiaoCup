è´¨æ•°æ•°ç›®

### é¢˜ç›®æè¿°

å®ç°ä¸€ä¸ªç®—æ³•æ±‚è´¨æ•°æ•°ç›®ã€‚ä»‹ç»å¦‚ä¸‹ï¼š

- è´¨æ•°æ˜¯æŒ‡åœ¨å¤§äº 1 çš„è‡ªç„¶æ•°ä¸­ï¼Œé™¤äº† 1 å’Œå®ƒæœ¬èº«ä»¥å¤–ä¸å†æœ‰å…¶ä»–å› æ•°çš„è‡ªç„¶æ•°ã€‚
- ç»™å®šæ•°å­— n*n*ï¼Œå¯¹äºä» 0 è‡³ n*n* çš„æ•°å­—ï¼Œéœ€è¦åˆ¤æ–­è¿™ä¸ªæ•°å­—æ˜¯ä¸æ˜¯è´¨æ•°ã€‚ç„¶åè¾“å‡ºè´¨æ•°æ€»æ•°ã€‚

### è¾“å…¥æè¿°

è¾“å…¥ä¸€ä¸ªæ•°å­— n (1â‰¤Nâ‰¤105)*n* (1â‰¤*N*â‰¤105)ï¼Œå«ä¹‰è§é¢˜å¹²ã€‚

### è¾“å‡ºæè¿°

è¾“å‡ºä¸€è¡Œï¼Œä¸º 0 è‡³ n*n* ä¹‹é—´è´¨æ•°çš„ä¸ªæ•°ã€‚

### è¾“å…¥è¾“å‡ºæ ·ä¾‹

#### ç¤ºä¾‹

> è¾“å…¥

```txt
5
```

> è¾“å‡º

```txt
3
```





#include <iostream>
using namespace std;

bool function(int N)
  {
    int count=0;
    for(int i=2;i<N;i++)
    {
      if(N%i==0)
      {
        count++;
      }
    }

    if(count>0)
    {
      return false;
    }else{
      return true;
    }
  }

int main()
{
  // è¯·åœ¨æ­¤è¾“å…¥æ‚¨çš„ä»£ç 

  int n;
  cin>>n;
  int count=0;
  for(int i=0;i<=n;i++)
  {
    if(i>1&&function(i))
    {
      count++;
    }
  }

  cout<<count;
  return 0;
}ä¸ºä»€ä¹ˆæˆ‘çš„é€šè¿‡ç‡åªæœ‰ç™¾åˆ†ä¹‹80





ä½ è¿™æ®µä»£ç **é€»è¾‘ä¸Šæ˜¯å¯¹çš„**ï¼Œå°æ•°æ®è‚¯å®šèƒ½è¿‡ï¼Œä½†é€šè¿‡ç‡åªæœ‰ 80% â€”â€” åŸºæœ¬å¯ä»¥ç¡®å®šæ˜¯ **è¶…æ—¶ï¼ˆTime Limit Exceededï¼‰é—®é¢˜**ã€‚

æˆ‘ä»¬æ¥åˆ†æä¸€ä¸‹ã€‚

------

# ğŸ” ä½ çš„ç®—æ³•å¤æ‚åº¦åˆ†æ

ä½ ç°åœ¨çš„åšæ³•æ˜¯ï¼š

```
for(int i=0;i<=n;i++)
{
  if(i>1 && function(i))
  {
    count++;
  }
}
```

è€Œ `function(i)` é‡Œé¢æ˜¯ï¼š

```
for(int j=2;j<i;j++)
```

ä¹Ÿå°±æ˜¯è¯´ï¼š

- æ¯ä¸ªæ•° i éƒ½è¦ä» 2 éå†åˆ° i-1
- æœ€åæƒ…å†µæ¥è¿‘ n æ¬¡
- æ€»å¤æ‚åº¦æ˜¯ï¼š

$$
O(n^2)
$$

å½“ï¼š

```
n = 100000
```

è®¡ç®—é‡å¤§æ¦‚æ˜¯ï¼š

```
100000 Ã— 100000 = 10^10
```

è¿™ä¸ªè§„æ¨¡ä¸€å®šä¼šè¶…æ—¶ã€‚

------

# ğŸš€ æ­£ç¡®åšæ³•ä¸€ï¼šä¼˜åŒ–åˆ¤æ–­è´¨æ•°

åˆ¤æ–­ä¸€ä¸ªæ•°æ˜¯å¦ä¸ºè´¨æ•°ï¼Œä¸éœ€è¦éå†åˆ° N-1ã€‚

åªéœ€è¦éå†åˆ°ï¼š
$$
\sqrt{N}
$$
å› ä¸ºï¼š

å¦‚æœ N = a Ã— b
 é‚£ä¹ˆå…¶ä¸­å¿…å®šæœ‰ä¸€ä¸ª â‰¤ âˆšN

------

## âœ¨ ä¼˜åŒ–ç‰ˆä»£ç ï¼ˆå¯è¿‡ï¼‰

```
#include <iostream>
#include <cmath>
using namespace std;

bool isPrime(int N)
{
    if (N <= 1) return false;

    for(int i = 2; i <= sqrt(N); i++)
    {
        if(N % i == 0)
            return false;
    }
    return true;
}

int main()
{
    int n;
    cin >> n;

    int count = 0;
    for(int i = 2; i <= n; i++)
    {
        if(isPrime(i))
            count++;
    }

    cout << count;
    return 0;
}
```

------

# ğŸ”¥ æ›´å¿«åšæ³•ï¼ˆæ¨èï¼‰ï¼šåŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•

è¿™æ˜¯ä¸“é—¨ç”¨æ¥æ±‚è´¨æ•°ä¸ªæ•°çš„ç»å…¸ç®—æ³•ã€‚

å¤æ‚åº¦ï¼š
$$
O(n \log\log n)
$$
å¯¹äº 1e5 éå¸¸è½»æ¾ã€‚

------

## ğŸš€ ç­›æ³•ä»£ç ï¼ˆå¼ºçƒˆæ¨èï¼‰

```
#include <iostream>
using namespace std;

int main()
{
    int n;
    cin >> n;

    bool isPrime[100001];

    for(int i = 0; i <= n; i++)
        isPrime[i] = true;

    isPrime[0] = false;
    isPrime[1] = false;

    for(int i = 2; i * i <= n; i++)
    {
        if(isPrime[i])
        {
            for(int j = i * i; j <= n; j += i)
                isPrime[j] = false;
        }
    }

    int count = 0;
    for(int i = 2; i <= n; i++)
    {
        if(isPrime[i])
            count++;
    }

    cout << count;
    return 0;
}
```

------

# ğŸ¯ ä¸ºä»€ä¹ˆä½ åªèƒ½è¿‡ 80%

ä¸€èˆ¬åŸå› ï¼š

- å°æ•°æ®èƒ½è¿‡
- å¤§æ•°æ® n=100000 è¶…æ—¶
- OJ åé¢ 20% æ˜¯æœ€å¤§æ•°æ®

æ‰€ä»¥å¤±è´¥ã€‚

------

# ğŸ§  æ€»ç»“

| æ–¹æ³•         | å¤æ‚åº¦         | èƒ½å¦è¿‡     |
| ------------ | -------------- | ---------- |
| ä½ ç°åœ¨çš„å†™æ³• | O(nÂ²)          | âŒ ä¼šè¶…æ—¶   |
| sqrtä¼˜åŒ–     | O(nâˆšn)         | âœ… å‹‰å¼ºå¯è¿‡ |
| ç­›æ³•         | O(n log log n) | âœ… æœ€ä¼˜     |

------

# ğŸ’¡ å»ºè®®

ä»¥åçœ‹åˆ°ï¼š

- æ±‚ 1~n ä¹‹é—´çš„è´¨æ•°ä¸ªæ•°
- n â‰¤ 10^6

ç›´æ¥æƒ³åˆ°ï¼š

> ğŸ‘‰ åŸƒæ‹‰æ‰˜æ–¯ç‰¹å°¼ç­›æ³•

------

å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥ç»™ä½ ç”»ä¸€å¼ ç­›æ³•çš„æµç¨‹å›¾ï¼Œè®©ä½ å½»åº•ç†è§£å®ƒçš„è¿è¡Œè¿‡ç¨‹ ğŸ‘Œ

i <= sqrt(N)ä¸ºä»€ä¹ˆè¿™é‡Œæ˜¯<=è€Œä¸æ˜¯<

è¿™ä¸ªé—®é¢˜é—®å¾—éå¸¸å¥½ ğŸ‘
 å¾ˆå¤šäººå†™åˆ°è¿™é‡Œéƒ½ä¼šçŠ¹è±«ã€‚

------

# ğŸ¯ å…³é”®é—®é¢˜

```
for(int i = 2; i <= sqrt(N); i++)
```

ä¸ºä»€ä¹ˆæ˜¯ `<=` è€Œä¸æ˜¯ `<` ï¼Ÿ

------

# ğŸ” ç”¨ä¸€ä¸ªå…·ä½“ä¾‹å­ç†è§£

å‡è®¾ï¼š

```
N = 9
```

é‚£ä¹ˆï¼š

```
sqrt(9) = 3
```

9 çš„å› æ•°æ˜¯ï¼š

```
1 Ã— 9
3 Ã— 3
```

å¦‚æœä½ å†™æˆï¼š

```
for(int i = 2; i < sqrt(N); i++)
```

é‚£å°±å˜æˆï¼š

```
for(int i = 2; i < 3; i++)
```

åªä¼šæ£€æŸ¥ï¼š

```
i = 2
```

ä¸ä¼šæ£€æŸ¥ï¼š

```
i = 3
```

é‚£ 9 å°±ä¼šè¢«è¯¯åˆ¤æˆè´¨æ•° âŒ

------

# ğŸ”¥ ä¸ºä»€ä¹ˆå¿…é¡»åŒ…å« sqrt(N) æœ¬èº«ï¼Ÿ

å½“ N æ˜¯å®Œå…¨å¹³æ–¹æ•°æ—¶ï¼š

```
N = k Ã— k
```

æ¯”å¦‚ï¼š

- 4 = 2Ã—2
- 9 = 3Ã—3
- 16 = 4Ã—4
- 25 = 5Ã—5

å¦‚æœä¸æ£€æŸ¥ kï¼Œæœ¬èº«å°±ä¼šæ¼æ‰è¿™ä¸ªå› æ•°ã€‚

------

# ğŸ§  æ•°å­¦åŸç†

å¦‚æœï¼š

```
N = a Ã— b
```

é‚£ä¹ˆä¸€å®šæœ‰ï¼š

```
a â‰¤ sqrt(N)
æˆ–
b â‰¤ sqrt(N)
```

æ‰€ä»¥æˆ‘ä»¬åªéœ€è¦æ£€æŸ¥åˆ°ï¼š

```
sqrt(N)
```

å¹¶ä¸”å¿…é¡»åŒ…å«å®ƒæœ¬èº«ã€‚

æ‰€ä»¥è¦å†™ï¼š

```
i <= sqrt(N)
```

------

# ğŸš€ æ›´æ¨èçš„å†™æ³•ï¼ˆé¿å… sqrtï¼‰

æ›´å¥½çš„å†™æ³•å…¶å®æ˜¯ï¼š

```
for(int i = 2; i * i <= N; i++)
```

ä¸ºä»€ä¹ˆæ›´å¥½ï¼Ÿ

å› ä¸ºï¼š

- ä¸ç”¨æ¯æ¬¡å¾ªç¯éƒ½ç®— sqrt
- ä¸æ¶‰åŠæµ®ç‚¹æ•°
- æ›´å¿«æ›´å®‰å…¨

------

# ğŸ”¥ å¯¹æ¯”æ€»ç»“

| å†™æ³•           | æ˜¯å¦æ­£ç¡®       |
| -------------- | -------------- |
| `i < sqrt(N)`  | âŒ ä¼šæ¼æ‰å¹³æ–¹æ•° |
| `i <= sqrt(N)` | âœ… æ­£ç¡®         |
| `i * i <= N`   | âœ… æ›´æ¨è       |

------

# ğŸ¯ ä¸€å¥è¯è®°å¿†

> åˆ¤æ–­è´¨æ•°å¾ªç¯æ¡ä»¶æ°¸è¿œå†™ï¼š
>
> ```
> i * i <= N
> ```

------

å¦‚æœä½ æ„¿æ„ï¼Œæˆ‘å¯ä»¥å†ç»™ä½ ç”»ä¸€ä¸ªâ€œå› æ•°å¯¹ç§°åˆ†å¸ƒå›¾â€ï¼Œè®©ä½ å½»åº•ç†è§£ä¸ºä»€ä¹ˆåªéœ€è¦éå†åˆ° âˆšN ğŸ‘Œ